# 사투리 번역 모델과 분류 모델을 저장한 디렉토리

## Bleu Score
- 강원도 : 0.86
- 전라도 : 0.91
- 경상도 : 0.94
- 제주도 : 0.69
- 충청도 : 0.91

## Classifier Accuracy(exactly match)
- 0.82

## 사용 데이터
- AI 허브 한국어 방언 발화
- 네이버 국어 사전 - 방언

## 사용 모델
- SKT-AI/KoBART
- skt/kobert-base-v1


## 개요
초기에 트랜스포머 구조만을 이용하여 번역을 시도하였는데 거의 사용할 수 없는 수준의 결과가 나타났습니다.
따라서 gpt나 bert를 이용하기로 하였습니다.
gpt-2 를 사용하여 번역 task에 맞게 fine-tuning을 하였을때 같은 단어의 반복적인 출력이 생기는 문제가 발생하였습니다.
이를 gready-search는 현재 위치에 가장 높은 확률의 단어를 선택하여 출력하기 때문인데 이를 보완하기 위해서 beam-search를 이용하였습니다.
beam-search는 연속적인 단어의 확률을 곱하여 현재 위치에 들어갈 단어를 선택하기 때문에 이를 해결할 수 있는 기술이라 생각했습니다.
하지만 대부분의 경우에서 뒤에 나오는 단어를 생성할때 확률이 너무 낮아 생성을 중단하여 대체로 문장의 길이가 너무 짧아지고
단어 1개만 생성하는 문제가 발생하였습니다.

추가로 자료 조사를 하여 BART를 알게되고 번역에 맞는 트랜스포머 구조와 마스킹, 회문, 단어 치환 등 noise를 원래 상태로 복구하는 pretrain 방식이
사투리라는 noise를 표준어로 바꾸는 과정과 매우 유사하다고 생각되어 BART를 번역 TASK에 맞게 fine-tuning하기로 하였습니다.

SKT-AI에서 제공하는 BART를 번역 TASK에 맞게 학습시켰더니 gpt-2의 반복 단어 생성과 같은 문제가 발생하지 않았습니다.
하지만 학습 데이터에 편향된 번역 결과로 인해 모든 사투리를 번역하지는 못하였고 일부 맞춤법이나 띄어쓰기가 틀렸을때 정확도가 매우 떨어졌습니다.

classifier 같은 경우는 일반적인 multi-classification 으로 만들었습니다.
각 5개 지방의 category로 분류하여 다중 분류를 하였고 82%의 성능을 보여주었습니다.

## 표준어를 사투리로 바꾸는 기능은 안되나요?
자연어 처리 모델을 개발하거나 딥러닝에 관해 잘 아신다면 학습 과정에서 source와 target을 바꿔 학습하면 이 기능이 작동한다는 걸 알 수 있습니다. 
하지만 그렇게 된다면 지역별로 분류한 모델은 총 5개가 되는데 반대 과정이 필요하다면 10개의 모델을 운영해야 합니다. 또한 표준어를 사투리로 바꾸는 기능의 실용성과 필요성이 중요하지 않다고 결정하여 이 기능은 추가하지 않았습니다.

## 사투리를 잘 몰라서 테스트를 못하겠어요
각 지역별로 테스트 예제를 추가하였습니다. 

| 지역 | 예제1| 예제2 |
| --- | --- | --- |
| 제주도 | 이게 무싱거꽈? | 무싱 거옌 고릅디가? |
| 전라도 | 앵간치좀해라 | 와 진짜 허벌나게 맵다 |
| 충청도 | 대근하면 먼저 들어가 | 싸게싸게 일햐 |
| 강원도 | 니 감자는 묵어봤나? | 야야 민경 좀 가져와 |
| 경상도 | 정구지 지짐 | 단디 해라 |


## bleu-score가 실제 성능을 어떻게 나타내는지 잘 모르겠어요

bleu score로 나타낸 숫자만 봐서 성능이 어느정도인지 알 수 없다는 의견도 있었습니다. 저 또한 bleu score의 높은 수치를 보고 번역 성능을 기대했는데 그만큼 성능이 나오지는 않았습니다. 한국어의 경우 n-gram 단위로 검증하는 bleu는 white-space를 이용하여 검증할 경우 한 문장을 구성하는 단어의 개수가 매우 작고 단어가 접사로 인해 완전 일치하지 않으면 점수를 부여하지 않는 문제도 있기 때문에 형태소 분석기를 이용한 n-gram을 구성하여 검증하였습니다. 비교할만한 대상이 있었다면 좋다는 생각도 하였지만 이 프로젝트를 진행할 시기인 7-11월에 한국어 사투리 번역 프로젝트가 거의 존재하지 않았습니다. 따라서 BLEU는 단지 숫자로만 생각해주시길 바랍니다. 그리고 다른 프로젝트에서 성능을 비교할 수 있도록 저희 지표를 활용하였으면 좋겠습니다.





